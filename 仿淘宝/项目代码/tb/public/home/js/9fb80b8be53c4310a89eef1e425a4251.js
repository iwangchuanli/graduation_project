KISSY.add("tb-mod/home-category-tab/0.0.4/index",["node"],function(n,t){function o(){this.init.apply(this,arguments)}var i=t("node");return o.prototype={init:function(n,t){var o=this;o._node=i.one(n),t?o.loadData(t):o.bindEvent()},loadData:function(){},bindEvent:function(){}},o});KISSY.add("tb-mod/home-hot-recommend/0.0.13/hot-recommend-xtpl",function(e,a,t,n){var o=n.exports=function(e){function a(e,a,t){e.data,e.affix;return a.data+='\n        <i class="icon-hot-recommend"></i>\n        ',a}function t(e,a,t){e.data,e.affix;return a.data+="highlight",a}function n(e,a,n){var o=e.data,d=e.affix;a.data+='\n        <a class="keyword ',l.line=8;var s=(i=d.isHighLight)!==n?i:(i=o.isHighLight)!==n?i:e.resolveLooseUp(["isHighLight"]),m=s;m=1===s;var c=m;if(!c){var h=(i=d.isHighLight)!==n?i:(i=o.isHighLight)!==n?i:e.resolveLooseUp(["isHighLight"]),u=h;u="true"===h,c=u}var f=c;if(!f){var p=(i=d.isHighLight)!==n?i:(i=o.isHighLight)!==n?i:e.resolveLooseUp(["isHighLight"]),g=p;g=p===!0,f=g}a=v.call(r,e,{params:[f],fn:t},a),a.data+='" href="';var x=(i=d.url)!==n?i:o.url;a=a.writeEscaped(x),a.data+='" target="_blank">';var L=(i=d.text)!==n?i:o.text;return a=a.writeEscaped(L),a.data+="</a>\n        ",a}function o(e,t,o){var d=e.data,s=e.affix;t.data+='\n    <li class="hot-recommend-item">\n        ',l.line=4;var m=(i=s.xindex)!==o?i:(i=d.xindex)!==o?i:e.resolveLooseUp(["xindex"]),c=m;c=m%4;var h=c;h=0!==c,t=v.call(r,e,{params:[h],fn:a},t),t.data+="\n        ",l.line=7,l.line=7;var u=(i=s.keywords)!==o?i:d.keywords;return t=p.call(r,e,{params:[u],fn:n},t),t.data+="\n    </li>\n",t}{var i,r=this,d=r.root,s=r.buffer,m=r.scope,l=(r.runtime,r.name,r.pos),c=m.data,h=m.affix,u=d.nativeCommands,f=d.utils,p=(f.callFn,f.callDataFn,f.callCommand,u.range,u.foreach,u.forin,u.each),v=(u["with"],u["if"]);u.set,u.include,u.parse,u.extend,u.block,u.macro,u["debugger"]}s.data+='<ul class="hot-recommend">\n',l.line=2,l.line=2;var g=(i=h.hotRecommends)!==e?i:(i=c.hotRecommends)!==e?i:m.resolveLooseUp(["hotRecommends"]);return s=p.call(r,m,{params:[g],fn:o},s),s.data+="\n</ul>",s};o.TPL_NAME=n.id||n.name}),KISSY.add("tb-mod/home-hot-recommend/0.0.13/index",["tms/xtemplate","market/xctrl","node","json","io","./hot-recommend-xtpl"],function(e,a){function t(){this.init.apply(this,arguments)}var n=a("tms/xtemplate"),o=a("market/xctrl"),i=a("node"),r=a("json"),d=a("io"),s=a("./hot-recommend-xtpl"),m="//tui.taobao.com/recommend";return t.prototype={init:function(e,a){var t=this;t.$module=i.one(e),a=a||r.parse(t.$module.one(".J_dynamic_data").html()),a?t.loadData(a):t.bindEvent()},loadData:function(e){var a=this;e&&e.moduleinfo&&e.moduleinfo.appid?new d({url:m,data:{appid:e.moduleinfo.appid},scriptCharset:"gbk",dataType:"jsonp",success:function(t){if(!t||!t.result||!t.result[0])return void a.showBackUp(e);var o=t.result[0],i=new n(s),r=i.render(o);a.$module.one(".hot-recommend-panel").html(r)},error:function(){a.showBackUp(e)}}):a.showBackUp(e)},showBackUp:function(e){var a=this;o.dynamic(e,"hotRecommends",function(e){var t=new n(s),o=t.render(e);a.$module.one(".hot-recommend-panel").html(o),a.bindEvent()})},bindEvent:function(){}},t});KISSY.add("tb-mod/home-category-list/0.0.13/index",["node"],function(n,t){function i(){this.init.apply(this,arguments)}var o=t("node");return i.prototype={init:function(n,t){var i=this;i._node=o.one(n),t?i.loadData(t):i.bindEvent()},loadData:function(){},bindEvent:function(){}},i});KISSY.add("tb-mod/home-category-nav/0.1.9/nav-xtpl",function(e,a,t,n){var i=n.exports=function(e){function a(e,a,t){var n=e.data,o=e.affix;a.data+="\n        .home-category-nav .category-nav-item",d.line=4;var r=(i=o.xindex)!==t?i:(i=n.xindex)!==t?i:e.resolveLooseUp(["xindex"]);a=a.writeEscaped(r),a.data+=" {\n            color:",d.line=5;var s=(i=o.color)!==t?i:n.color;a=a.writeEscaped(s),a.data+=";\n        }\n        .home-category-nav .category-nav-item",d.line=7;var c=(i=o.xindex)!==t?i:(i=n.xindex)!==t?i:e.resolveLooseUp(["xindex"]);a=a.writeEscaped(c),a.data+=":hover,\n        .home-category-nav .category-nav-item",d.line=8;var l=(i=o.xindex)!==t?i:(i=n.xindex)!==t?i:e.resolveLooseUp(["xindex"]);a=a.writeEscaped(l),a.data+=".category-nav-item-active {\n            background-color:",d.line=9;var v=(i=o.color)!==t?i:n.color;return a=a.writeEscaped(v),a.data+=";\n            color:#fff;\n        }\n        ",a}function t(e,a,t){e.data,e.affix;return a.data+="category-nav-item-active",a}function n(e,a,n){var r=e.data,s=e.affix;a.data+='\n        <a class="category-nav-item category-nav-item',d.line=16;var c=(i=s.xindex)!==n?i:(i=r.xindex)!==n?i:e.resolveLooseUp(["xindex"]);a=a.writeEscaped(c),a.data+=" J_navBtn ";var l=(i=s.xindex)!==n?i:(i=r.xindex)!==n?i:e.resolveLooseUp(["xindex"]),v=l;v=0===l,a=u.call(o,e,{params:[v],fn:t},a),a.data+='" data-id="';var f=(i=s.id)!==n?i:r.id;a=a.writeEscaped(f),a.data+='" title="';var m=(i=s.text)!==n?i:r.text;a=a.writeEscaped(m),a.data+='">\n            <i class="home-iconfont">&#xe',d.line=17;var p=(i=s.icon)!==n?i:r.icon;a=a.writeEscaped(p),a.data+=';</i>\n            <span class="cover-left-half"></span>\n            <span class="cover-right-half"></span>\n            <span class="text">',d.line=20;var x=(i=s.text)!==n?i:r.text;return a=a.writeEscaped(x),a.data+='</span>\n            <i class="category-nav-item-mask left-half"></i>\n            <i class="category-nav-item-mask right-half"></i>\n        </a>\n        ',a}{var i,o=this,r=o.root,s=o.buffer,c=o.scope,d=(o.runtime,o.name,o.pos),l=c.data,v=c.affix,f=r.nativeCommands,m=r.utils,p=(m.callFn,m.callDataFn,m.callCommand,f.range,f.foreach,f.forin,f.each),u=(f["with"],f["if"]);f.set,f.include,f.parse,f.extend,f.block,f.macro,f["debugger"]}s.data+='<div class="category-nav-wrap">\n    <style>\n        ',d.line=3,d.line=3;var x=(i=v.navList)!==e?i:(i=l.navList)!==e?i:c.resolveLooseUp(["navList"]);s=p.call(o,c,{params:[x],fn:a},s),s.data+='\n    </style>\n    <div class="category-nav">\n        ',d.line=15,d.line=15;var g=(i=v.navList)!==e?i:(i=l.navList)!==e?i:c.resolveLooseUp(["navList"]);return s=p.call(o,c,{params:[g],fn:n},s),s.data+="\n    </div>\n</div>\n",s};i.TPL_NAME=n.id||n.name}),KISSY.add("tb-mod/home-category-nav/0.1.9/index",["tms/xtemplate","./nav-xtpl","node","dom","ua"],function(e,a){function t(){this.init.apply(this,arguments)}var n=a("tms/xtemplate"),i=a("./nav-xtpl"),o=a("node"),r=a("dom"),s=a("ua"),c=o.all;return t.prototype={init:function(e){var a=this;a.$module=o.one(e),a.offset=0,a.data={navList:[]},a.render(),a.bindEvent()},render:function(){var e=this,a=c(".J_category_hash");if(a.length){a.each(function(a){var t=c(a),n=t.attr("data-nav-icon"),i=t.attr("data-nav-color"),o=t.html(),r=t.parent(".J_Module").attr("id");n&&o&&e.data.navList.push({icon:n,color:i,text:o,id:r})});var t=new n(i).render(e.data);e.$module.one(".module-wrap").html(t),e.setOffset(),e.refreshNav(),e.activeItem()}},activeItem:function(){var e,a,t,n,i=c(".home-category-list"),o=c(".category-nav-item"),r=i.length;if(r)for(var s=r-1;s>=0;s--)if(t=i.item(s),n=o.item(s),a=n.offset().top,e=t.offset().top,a>=e){o.removeClass("category-nav-item-active"),n&&n.addClass("category-nav-item-active");break}},setOffset:function(){var e=this,a=c(window).height(),t=c(".category-nav").height();e.offset=0,e.offset=a>t?(a-t)/2:a-t},refreshNav:function(){var e=this,a=r.scrollTop(),t=e.$module.one(".category-nav-wrap"),n=c(".home-category-list"),i=t.one(".category-nav").height(),o=n.item(0).offset().top,s=e.$module.one(".category-nav-container").offset().top;a+e.offset>=o&&a+e.offset+i<=s?(t.css("bottom",e.offset),t.addClass("category-nav-fixed")):(t.removeClass("category-nav-fixed"),t.css("bottom",0)),a+e.offset<o?t.css("opacity",0):t.css("opacity",1)},bindEvent:function(){var a=this;a.clickable=!0,a.$module.delegate("click",".J_navBtn",function(t){var n=c(t.currentTarget),i=n.attr("data-id"),o=c(".category-nav-item-active").index();if(t.preventDefault(),a.clickable){if(a.clickable=!1,s.ie<7)return void a.$module.hide();var r=n.index(),d=c("#"+i),l=(o>=r?5:35)-a.offset;if(d.length){var v=d.offset().top-c('.category-nav-item[data-id="'+i+'"]').offset().top+c(".category-nav-item").item(0).offset().top+l;d.attr("id",""),window.location.hash=i,e.use("kg/attr-anim/6.0.1/index",function(e,t){new t(window,{scrollTop:v},{duration:.2,easing:"swing",complete:function(){a.clickable=!0,d.attr("id",i)}}).run()})}}}),c(window).on("resize",function(){a.resizeTimer&&clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(function(){a.setOffset(),a.activeItem()},200)}),c(window).on("scroll",function(){return a.refreshNav(),s.ie<7?void a.$module.hide():(a.scrollTimer&&clearTimeout(a.scrollTimer),void(a.scrollTimer=setTimeout(function(){a.activeItem()},200)))})}},t});KISSY.add("tb-mod/global-spacing/0.0.1/index",function(n,t){function i(){this.init.apply(this,arguments)}return i.prototype={init:function(n,t){}},i});