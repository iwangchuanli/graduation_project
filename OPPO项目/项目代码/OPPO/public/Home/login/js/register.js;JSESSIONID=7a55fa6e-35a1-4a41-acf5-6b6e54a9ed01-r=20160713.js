var isMobileRegex=/^1\d{10}$/;var isPasswordRegex=/^[0-9a-zA-Z]{6,16}$/;var isCaptchaRegx=/^([0-9a-zA-Z\u4e00-\u9fa5])+$/;var isVercodeRegex=/^([0-9a-zA-Z])+$/;function showinfo(d,b,a){var c=$("#"+d);if(a==1){c.html(b).css("color","#ff5656")}else{if(a==2){c.html(b).css("color","#878b8a")}else{c.html(b).css("color","#666666")}}}function focus_func(a,b){$(a).next(".placeholder").css("display","none");var c=a.getAttribute("id");showinfo("info_"+c,b,2);$(".error_tip1").html("")}function blur_func(a,b){if($(a).val()==""){$(a).next(".placeholder").css("display","block");var c=a.getAttribute("id");showinfo("info_"+c,b,1)}}function showDiv(a){a.css({"top":$(window).height()/2-a.height()/2+$(window.document).scrollTop()+"px","margin-left":$(window).width()/2-220+$(window.document).scrollLeft()+"px","display":"block"});$(".mask").css({"height":$(document).height(),"width":$(document).width()}).show();$("#dlg_id").val(a.attr("id"))}function hideDiv(a){a.hide();$(".mask").hide();$("#dlg_id").val("")}$(".ico_close").click(function(){var a=$(this).parent();hideDiv(a);window.location.href=$("#jumpUrl").val()+"register/sms?type=1"});$("#mobile,.vercode,#newpwd").focus(function(){focus_func(this,"")});$("#mobile,.vercode,#newpwd").blur(function(){blur_func(this,"")});$("#repwd").focus(function(){focus_func(this,"密码包含6-16位字母、数字")});$("#repwd").blur(function(){if($(this).val()==""){$(this).next(".placeholder").css("display","block")}});function get_code_register(){$("#auth_code").attr("src",$("#captchaUrl").val()+"?vertion="+Math.random())}$(document).on("click","#auth_code",function(){get_code_register()});function checkSms(){var b=$.trim($("#mobile").val());if(b.length==0){showinfo("info_mobile","请输入手机号码",1);return false}if(!b.match(isMobileRegex)){showinfo("info_mobile","手机号码格式错误",1);return false}var a=$("#vercode").val();if(a.length==0||($.trim(a)).length==0){showinfo("info_vercode","请输入验证码",1);return false}if(!a.match(isCaptchaRegx)){showinfo("info_vercode","验证码错误",1);return false}if(!document.getElementById("isaccept").checked){showinfo("info_accept","请阅读并同意OPPO帐号注册协议",1);return false}$("#mobile").val(b);return true}var xh_validate;function time_validate(){var a=document.getElementById("time").innerHTML;a--;document.getElementById("time").innerHTML=a;var b=setTimeout(function(){time_validate()},1000);if(a<1){clearTimeout(b);document.getElementById("btn_verify").innerHTML="重新获取";document.getElementById("btn_verify").className="btn_verify";document.getElementById("btn_verify").setAttribute("onclick","send_verify_validate()")}}function send_verify_validate(){showinfo("info_validate_form","",1);document.getElementById("btn_verify").innerHTML="<span id='time'>60</span>S";document.getElementById("btn_verify").className="btn_verify_unedit";document.getElementById("btn_verify").setAttribute("onclick","");time_validate();$.ajax({type:"POST",url:"../register/retrySms",cache:false,contentType:"application/json; charset=utf-8",dataType:"json",data:'{"requestKey" :"'+$("#requestKey").val()+'"}',beforeSend:function(){},success:function(b){var a=b.resultCode;if(a!=1001){switch(a){case 2009:showinfo("info_vercode1","验证码错误",1);break;case 3016:showinfo("info_validate_form","验证时间间隔太短",1);break;case 3017:showinfo("info_validate_form","今日发送短信次数达到上限",1);break;case 4010:showDiv($("#timeout_dlg"));break;default:showinfo("info_validate_form",b.resultMsg,1);break}return}},complete:function(a){},error:function(a){}})}function checkValidate(){var a=$("#vercode1").val();if(a.length==0||($.trim(a)).length==0){showinfo("info_vercode1","请输入验证码",1);return false}if(!a.match(isVercodeRegex)){showinfo("info_vercode1","验证码错误",1);return false}return true}function checkRegister(){var b=$("#newpwd").val();var a=$("#repwd").val();if(b.length==0||($.trim(b)).length==0){showinfo("info_newpwd","请输入新密码",1);return false}if(a.length==0||($.trim(a)).length==0){showinfo("info_repwd","请再次输入新密码",1);return false}if(!b.match(isPasswordRegex)){showinfo("info_newpwd","密码格式错误",1);return false}if(!a.match(isPasswordRegex)){showinfo("info_repwd","密码格式错误",1);return false}if(b!=a){showinfo("info_repwd","新密码两次输入不一致",1);return false}$("#password").val($.md5(b));$("#confirmPassword").val($.md5(a));return true}$("#mobile, #vercode").keypress(function(b){var a=b.which;if(a===13){b.preventDefault();$("#smsBtn").click()}});$("#vercode1").keypress(function(b){var a=b.which;if(a===13){b.preventDefault();$("#validateBtn").click()}});$("#newpwd,#repwd").keypress(function(b){var a=b.which;if(a===13){b.preventDefault();$("#registerBtn").click()}});function changeCheckbox1(){showinfo("info_accept","",1);var a=document.getElementById("forCheckBox");if(a.className=="checkBoxLabel choosed"){a.className="checkBoxLabel"}else{a.className="checkBoxLabel choosed"}}window.onresize=function(){$(".mask").css({"height":$(document).height(),"width":$(document).width()});var a=$("#dlg_id").val();if(a!=""){var b=$("#"+a);b.css({"top":$(window).height()/2-b.height()/2+$(window.document).scrollTop()+"px","margin-left":$(window).width()/2-220+$(window.document).scrollLeft()+"px","display":"block"})
}};