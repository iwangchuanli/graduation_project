$(function(){var e=$(window).scrollTop(),s=$(".sec").eq(0),t=!1,c=!1,i=-.3,a=!1;$(".ie9").length>0&&(c=!0),$(".ie8").length>0&&(t=!0);var o={init:function(){t||c||($(".sec-text").addClass("text-init"),$(".footer").on("mouseenter",function(){$(".footer-text").addClass("active"),$(".footer-slider").addClass("active")}),$(".footer").on("mouseleave",function(){$(".footer-text").removeClass("active"),$(".footer-slider").removeClass("active")})),t&&($(".footer-slider").hide(),$(".footer-text").addClass("active")),s.hasClass("sec-1")&&o.home(),s.hasClass("sec-8")&&o.camera(),s.hasClass("sec-15")&&o.design(),s.hasClass("sec-21")&&o.performance(),s.hasClass("sec-25")&&o.vooc(),s.hasClass("sec-30")&&o.coloros()},home:function(){0>=e&&n.section[0].sec_1(),d.adjust_parallax(1),(t||c)&&($(".sec-2-mobile, .sec-2-shadow").css({opacity:1}),$(".sec-1").hide(),$(".sec-5-mobile-2").hide(),$(".sec-5-switch-border div").hide(),$(".sec-5-switch-border img").show(),$(".sec-5-switch-border").css({border:"none"})),$(".sec-1-button-1").on("click",function(){var e='<iframe frameborder="0" width="100%" height="100%" \n							src="http://v.qq.com/iframe/player.html?vid=h033890bhea/n&tiny=1&auto=1" allowfullscreen></iframe>';d.play(e)}),$(".close-video").on("click",function(){d.close()}),$(".sec-5-switch-border").on("click",function(){return $(this).hasClass("active")?!1:($(".sec-5-switch-border").removeClass("active"),$(this).addClass("active"),$(".sec-5-mobile").hide(),$(".sec-5-mobile-"+($(this).index()+1)).show(),$(".sec-5-mobile").removeClass("active"),$(".sec-5-mobile-"+($(this).index()+1)).addClass("active"),!1)})},camera:function(){0>=e&&n.section[7].sec_8(),d.adjust_parallax(8),(t||c)&&($("#section-gallery-photo").hide(),$(".sec-10").height($(window).width()/2560*629),$(".sec-10-ie").show()),$("#swiper-default").trigger("click"),$(".sec-9-switch-focus").on("hover",function(){return $(this).hasClass("active")?!1:($(".sec-9-switch-focus").find(".line").removeClass("active"),$(this).find(".line").addClass("active"),t?($(".sec-9-mobile").hide(),$(".sec-9-mobile-"+($(this).index()+1)).show()):($(".sec-9-mobile").removeClass("active"),$(".sec-9-mobile-"+($(this).index()+1)).addClass("active")),!1)}),$(".sec-13-switch-button").on("click",function(){var e=parseInt($(this).data("switch")%3,10),s=0==e?3:e,t=2==e?1:e+2,c=e+1;$(".sec-13-leftimg-"+s).addClass("in"),$(".sec-13-leftimg-"+t).removeClass("in").addClass("out"),$(".sec-13-leftimg-"+c).removeClass("out"),$(".sec-13-rightimg-"+s).addClass("in"),$(".sec-13-rightimg-"+t).removeClass("in").addClass("out"),$(".sec-13-rightimg-"+c).removeClass("out"),$(this).data("switch",e+1)})},design:function(){if(0>=e&&n.section[14].sec_15(),d.adjust_parallax(15),t||c)$(".sec-15-switch").hide(),$(".sec-15-mobile-2").hide(),$(".sec-16-video").hide(),$(".sec-16-ie").show();else{var s=0;setInterval(function(){var e=s%2+1;$(".sec-15-mobile-"+(3-e)).removeClass("active"),$(".sec-15-mobile-"+e).addClass("active"),$(".line-"+(3-e)).removeClass("active"),$(".line-"+e).addClass("active"),s++},2500)}$(".sec-15-switch-focus").on("mouseenter",function(){return $(this).hasClass("active")?!1:($(".sec-15-switch-focus").find(".line").removeClass("active"),$(this).find(".line").addClass("active"),t?($(".sec-15-mobile").hide(),$(".sec-15-mobile-"+($(this).index()+1)).show()):($(".sec-15-mobile").removeClass("active"),$(".sec-15-mobile-"+($(this).index()+1)).addClass("active")),!1)})},performance:function(){0>=e&&n.section[20].sec_21(),(t||c)&&($(".sec-21-mobile").hide(),$(".sec-21-relative-box-1").hide(),$(".sec-21-relative-box-2").hide(),$(".sec-21-ie").show())},vooc:function(){0>=e&&n.section[24].sec_25(),(t||c)&&($(".sec-28-mobile").hide(),$(".sec-28-circle-box").hide(),$(".sec-28-ie").show()),d.adjust_parallax(25)},coloros:function(){0>=e&&n.section[29].sec_30(),d.adjust_parallax(30)}},n={init:function(){var s=0,t=0,c=$(".sec").length;$.each($(".sec"),function(i,a){var o=$(a).data("sec");if(s=$(a).offset().top-200,c-1>i){if(t=$(".sec-"+(o+1)).offset().top-200,e>s&&t>=e){var d=n.section[o-1];for(var l in d)"function"==typeof d[l]&&d[l]()}}else if(e>s){var d=n.section[o-1];for(var l in d)"function"==typeof d[l]&&d[l]()}})},text:function(e,s){if(t||c)return!1;var i=$(".sec-"+e).find(".sec-text");return $(".sec-"+e).find(".sec-text").eq(s).addClass("animate"),s++,s>=i?!1:void setTimeout(function(){n.text(e,s)},100)},section:[{sec_1:function(){$(".sec-1").css({transform:"translate3d(0,"+i*e+"px,  0)"})}},{sec_2:function(){n.text(2,0),t||c||$(".sec-1").show(),$(".sec-2-mobile").addClass("animate"),$(".sec-2-shadow").addClass("animate")}},{sec_3:function(){n.text(3,0),t||c||$(".sec-1").hide(),$(".sec-3-icon").addClass("animate"),setTimeout(function(){$(".sec-3-lens").addClass("animate")},2e3)}},{sec_4:function(){n.text(4,0),$(".sec-4-mobile").addClass("animate"),$(".sec-4-shadow").addClass("animate")}},{sec_5:function(){n.text(5,0)}},{sec_6:function(){n.text(6,0);var s=$(".sec-7").offset().top,t=e/s,c=500*t-386.558;$(".sec-6-frame-box").css({transform:"translate3d(0,"+c+"px,  0)"}),$(".sec-6-screen").css({transform:"translate3d(0,"+-c+"px,  0)"})}},{sec_7:function(){$(".sec-7-mobile").addClass("animate")}},{sec_8:function(){$(".sec-8-mobile").addClass("animate");var s=$(".sec-9").offset().top,t=e/s;$(".sec-8").css({transform:"translate3d(0,"+i*e+"px,  0)"}),$(".sec-8-mobile-1").css({transform:"translate3d(0,"+-80*t+"px,  0)"}),$(".sec-8-mobile-2").css({transform:"translate3d(0,"+80*t+"px,  0)"})}},{sec_9:function(){t||c||$(".sec-8").show()}},{sec_10:function(){n.text(10,0),t||c||$(".sec-8").hide()}},{sec_11:function(){n.text(11,0),$(".sec-11-mobile").addClass("animate")}},{sec_12:function(){$(".sec-12-lenscover").addClass("animate"),setTimeout(function(){$(".sec-12-vibrate").addClass("animate")},2e3)}},{sec_13:function(){var s=$(".sec-14").offset().top,i=e/s,a=200*i-138.5;$(".sec-13-mobile").css({transform:"translate3d(0,"+a+"px,  0)"}),(t||c)&&$(".sec-13-switch-button").hide()}},{sec_14:function(){}},{sec_15:function(){$(".sec-15").css({transform:"translate3d(0,"+i*e+"px,  0)"})}},{sec_16:function(){if(n.text(16,0),!t&&!c){$(".sec-15").show();var e=document.getElementById("video_16");a||(e.play(),a=!0)}}},{sec_17:function(){n.text(17,0),t||c||$(".sec-15").hide()}},{sec_18:function(){n.text(18,0)}},{sec_19:function(){n.text(19,0),$(".sec-19-screen").addClass("active"),$(".sec-19-square").addClass("active"),$(".sec-19-triangle").addClass("active")}},{sec_20:function(){n.text(20,0)}},{sec_21:function(){var s=$(".sec-22").offset().top,t=e/s,c=400*t>36?36:400*t;$(".sec-21-card").css({transform:"translate3d(0,"+c+"px,  0)"}),$(".sec-21-hand").css({transform:"translate3d("+-25*t+"px,"+(70*t-30)+"px,  0)"}),$(".sec-21-shadow-2").css({transform:"translate3d("+-25*t+"px,"+(70*t-30)+"px,  0)",opacity:-.7+3*t})}},{sec_22:function(){setTimeout(function(){n.text(22,0)},1e3)}},{sec_23:function(){}},{sec_24:function(){}},{sec_25:function(){$(".sec-25").css({transform:"translate3d(0,"+i*e+"px,  0)"})}},{sec_26:function(){t||c||$(".sec-25").show(),$(".sec-26-mobile-2").addClass("animate"),$(".sec-26-shadow").addClass("animate")}},{sec_27:function(){t||c||$(".sec-25").hide();var s=$(".sec-28").offset().top,i=e/s,a=300*i-181.131;$(".sec-27-mobile").css({transform:"translate3d(0, "+a+"px, 0)"})}},{sec_28:function(){}},{sec_29:function(){$(".sec-29-praise").addClass("animate")}},{sec_30:function(){$(".sec-30").css({transform:"translate3d(0,"+i*e+"px,  0)"})}},{sec_31:function(){t||c||$(".sec-30").show(),$(".sec-31-mobile").addClass("animate")}},{sec_32:function(){t||c||$(".sec-30").hide(),$(".sec-32-mobile").addClass("animate")}},{sec_33:function(){$(".sec-33-mobile").addClass("animate")}},{sec_34:function(){$(".sec-34-mobile").addClass("animate")}},{sec_35:function(){$(".sec-35-mobile").addClass("animate")}}]},d={dom:{full_video:$(".full-video"),moz_mask:$("#moz-mask"),header:$("#header"),body:$("body")},adjust_parallax:function(e){t||c?$(".sec-"+e).css({position:"relative"}):($(".sec-gap").height($(".sec-"+e).height()),$(window).scrollTop()<1500?$(".sec-"+e).show():$(".sec-"+e).hide())},play:function(e){var s=this,t=s.dom.full_video,c=s.dom.moz_mask,i=s.dom.header,a=s.dom.body;0==t.find("iframe").length&&t.prepend(e),t.show(),i.hide(),a.css("overflow-y","hidden"),d.check_firefox()&&(c.show(),t.css({top:"0%",left:"3.6%",width:"92.8%",height:"100%"}))},close:function(){var e=this,s=e.dom.full_video,t=e.dom.moz_mask,c=e.dom.header,i=e.dom.body;t.hide(),c.show(),s.find("iframe").remove(),s.hide(),i.css("overflow-y","scroll")},check_firefox:function(){var e=navigator.userAgent.toLowerCase(),s=e.match(/firefox\/([\d.]+)/),t=null!==s?s.toString().slice(0,7):!1,c=void 0!==t&&"firefox"===t?!0:!1;return c}};o.init(),$(window).scroll(function(){e=$(window).scrollTop(),n.init()})});